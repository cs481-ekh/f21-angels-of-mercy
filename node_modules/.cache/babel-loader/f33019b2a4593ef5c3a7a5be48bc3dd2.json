{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilove\\\\Source\\\\Repos\\\\f21-angels-of-mercy\\\\src\\\\NursingHospitalSimFunction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TpModal = ({\n  title,\n  isVisible,\n  children,\n  maxWidth,\n  target,\n  onClose\n} = {\n  children: []\n}) => {\n  _s();\n\n  // 將彈跳視窗移出到特定的元素上\n  const portalTarget = target || document.body; // 點選 Backdrop (不含modal) 來關閉彈跳視窗\n\n  const modalRef = useRef(null);\n\n  const handleBackdropClick = e => {\n    if (!modalRef.current.contains(e.target)) {\n      onClose();\n    }\n  }; // 收到按下 Esc 鍵的事件時關閉彈跳視窗\n\n\n  const handleKeyDown = useCallback(e => {\n    const {\n      keyCode\n    } = e;\n    if (keyCode === 27) onClose();\n  }, [onClose]); // 監看 window 下的所有 keydown 事件\n\n  useEffect(() => {\n    if (isVisible) {\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n  }, [handleKeyDown, isVisible]); // 記住原本在 html 及 body 的 overflow 樣式 (當 modal 消失時復原樣式使用)\n\n  const [[htmlOverflow, bodyOverflow]] = useState([document.querySelector('html').style.overflow, document.querySelector('body').style.overflow]); // 讓畫面被鎖定來避免畫面滾動的混亂\n\n  useEffect(() => {\n    if (isVisible) {\n      document.querySelector('html').style.overflow = 'hidden';\n      document.querySelector('body').style.overflow = 'hidden';\n    } else {\n      document.querySelector('html').style.overflow = htmlOverflow;\n      document.querySelector('body').style.overflow = bodyOverflow;\n    }\n  }, [bodyOverflow, htmlOverflow, isVisible]); // render\n\n  return isVisible ? /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(Backdrop, {\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      ref: modalRef,\n      maxWidth: maxWidth,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: [\" \", title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ModalCloseBtn, {\n          onClick: onClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }, this), portalTarget) : null;\n};\n\n_s(TpModal, \"BgvHphKteVUeVe6ubRt3rNPdJV4=\");\n\n_c = TpModal;\nTpModal.propTypes = {\n  children: PropTypes.node,\n  isVisible: PropTypes.bool,\n  title: PropTypes.string,\n  maxWidth: PropTypes.string,\n  onClose: PropTypes.func.isRequired\n};\nconst Backdrop = styled.div`\n  background: #0000002e;\n  /* z-index: 99; */\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c2 = Backdrop;\nconst Modal = styled.div`\n  background: white;\n  border-radius: 5px;\n  width: 100%;\n  max-width: ${props => props.maxWidth || '60%'} ;\n  max-height: 100vh;\n  box-shadow: 3px 3px 9px 1px silver;\n  display: flex;\n  flex-direction: column;\n`;\n_c3 = Modal;\nconst ModalHeader = styled.div`\n  padding: 20px;\n  display: flex;\n  position: relative;\n`;\n_c4 = ModalHeader;\nconst ModalTitle = styled.div`\n  font-weight: bold;\n  flex: 1;\n  text-align: center;\n`;\n_c5 = ModalTitle;\nconst ModalContent = styled.div`\n  padding: 0 20px 20px 20px;\n  overflow-y: auto;\n  max-height: 50vh;\n`;\n_c6 = ModalContent;\nconst ModalCloseBtn = styled.div`\n  cursor:pointer;\n  position: absolute;\n  right: 15px;\n  top: 15px;\n  width: 15px;\n  height: 15px;\n  opacity: 0.3;\n\n  :hover {\n    opacity: 1;\n  }\n\n  :before, :after {\n    position: absolute;\n    left: 7px;\n    content: ' ';\n    height: 15px;\n    width: 1px;\n    background-color: #333;\n  }\n\n  :before {\n    transform: rotate(45deg);\n  }\n  \n  :after {\n    transform: rotate(-45deg);\n  }\n\n`;\n_c7 = ModalCloseBtn;\nexport default NursingHospitalSimFunction;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"TpModal\");\n$RefreshReg$(_c2, \"Backdrop\");\n$RefreshReg$(_c3, \"Modal\");\n$RefreshReg$(_c4, \"ModalHeader\");\n$RefreshReg$(_c5, \"ModalTitle\");\n$RefreshReg$(_c6, \"ModalContent\");\n$RefreshReg$(_c7, \"ModalCloseBtn\");","map":{"version":3,"sources":["C:/Users/ilove/Source/Repos/f21-angels-of-mercy/src/NursingHospitalSimFunction.js"],"names":["React","useRef","useEffect","useCallback","useState","PropTypes","styled","ReactDOM","TpModal","title","isVisible","children","maxWidth","target","onClose","portalTarget","document","body","modalRef","handleBackdropClick","e","current","contains","handleKeyDown","keyCode","window","addEventListener","removeEventListener","htmlOverflow","bodyOverflow","querySelector","style","overflow","createPortal","propTypes","node","bool","string","func","isRequired","Backdrop","div","Modal","props","ModalHeader","ModalTitle","ModalContent","ModalCloseBtn","NursingHospitalSimFunction"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useCallback, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport ReactDOM from 'react-dom'\r\n\r\nconst TpModal = ({ title, isVisible, children, maxWidth, target, onClose } = { children: [] }) => {\r\n    // 將彈跳視窗移出到特定的元素上\r\n    const portalTarget = target || document.body\r\n\r\n    // 點選 Backdrop (不含modal) 來關閉彈跳視窗\r\n    const modalRef = useRef(null)\r\n    const handleBackdropClick = (e) => {\r\n        if (!modalRef.current.contains(e.target)) {\r\n            onClose()\r\n        }\r\n    }\r\n\r\n    // 收到按下 Esc 鍵的事件時關閉彈跳視窗\r\n    const handleKeyDown = useCallback(\r\n        (e) => {\r\n            const { keyCode } = e\r\n            if (keyCode === 27) onClose()\r\n        },\r\n        [onClose]\r\n    )\r\n\r\n    // 監看 window 下的所有 keydown 事件\r\n    useEffect(() => {\r\n        if (isVisible) {\r\n            window.addEventListener('keydown', handleKeyDown)\r\n            return () => {\r\n                window.removeEventListener('keydown', handleKeyDown)\r\n            }\r\n        }\r\n    }, [handleKeyDown, isVisible])\r\n\r\n    // 記住原本在 html 及 body 的 overflow 樣式 (當 modal 消失時復原樣式使用)\r\n    const [[htmlOverflow, bodyOverflow]] =\r\n        useState([document.querySelector('html').style.overflow, document.querySelector('body').style.overflow])\r\n\r\n    // 讓畫面被鎖定來避免畫面滾動的混亂\r\n    useEffect(() => {\r\n        if (isVisible) {\r\n            document.querySelector('html').style.overflow = 'hidden'\r\n            document.querySelector('body').style.overflow = 'hidden'\r\n        } else {\r\n            document.querySelector('html').style.overflow = htmlOverflow\r\n            document.querySelector('body').style.overflow = bodyOverflow\r\n        }\r\n    }, [bodyOverflow, htmlOverflow, isVisible])\r\n\r\n    // render\r\n    return isVisible\r\n        ? ReactDOM.createPortal(\r\n            <Backdrop onClick={handleBackdropClick}>\r\n                {/* 彈跳視窗 */}\r\n                <Modal ref={modalRef} maxWidth={maxWidth}>\r\n\r\n                    {/* 標頭 */}\r\n                    <ModalHeader>\r\n                        <ModalTitle> {title} </ModalTitle>\r\n                        <ModalCloseBtn onClick={onClose} />\r\n                    </ModalHeader>\r\n\r\n                    {/* 內容 */}\r\n                    <ModalContent>\r\n                        {children}\r\n                    </ModalContent>\r\n\r\n                </Modal>\r\n            </Backdrop>,\r\n            portalTarget\r\n        )\r\n        : null\r\n}\r\n\r\nTpModal.propTypes = {\r\n    children: PropTypes.node,\r\n    isVisible: PropTypes.bool,\r\n    title: PropTypes.string,\r\n    maxWidth: PropTypes.string,\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nconst Backdrop = styled.div`\r\n  background: #0000002e;\r\n  /* z-index: 99; */\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst Modal = styled.div`\r\n  background: white;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  max-width: ${props => props.maxWidth || '60%'} ;\r\n  max-height: 100vh;\r\n  box-shadow: 3px 3px 9px 1px silver;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ModalHeader = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  position: relative;\r\n`\r\n\r\nconst ModalTitle = styled.div`\r\n  font-weight: bold;\r\n  flex: 1;\r\n  text-align: center;\r\n`\r\n\r\nconst ModalContent = styled.div`\r\n  padding: 0 20px 20px 20px;\r\n  overflow-y: auto;\r\n  max-height: 50vh;\r\n`\r\n\r\nconst ModalCloseBtn = styled.div`\r\n  cursor:pointer;\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 15px;\r\n  width: 15px;\r\n  height: 15px;\r\n  opacity: 0.3;\r\n\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  :before, :after {\r\n    position: absolute;\r\n    left: 7px;\r\n    content: ' ';\r\n    height: 15px;\r\n    width: 1px;\r\n    background-color: #333;\r\n  }\r\n\r\n  :before {\r\n    transform: rotate(45deg);\r\n  }\r\n  \r\n  :after {\r\n    transform: rotate(-45deg);\r\n  }\r\n\r\n`\r\n\r\n\r\nexport default NursingHospitalSimFunction;"]},"metadata":{},"sourceType":"module"}